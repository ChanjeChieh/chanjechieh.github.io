<!DOCTYPE html>
<html>
  <!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  
  <title>左神算法笔记_0.3 - WangJie`s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <meta name="keywords" content=生活,博客,前端,游戏>
  
  
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.02">
  
  
    <link rel="alternate" href="/atom.xml " title="WangJie`s Blog" type="application/atom+xml">
  

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.1.0"></head>
  <body>
    <div class="container">
      <header class="header">
  <div class="blog-title">
    <a href="/" class="logo">WangJie`s Blog</a>
    <div class="subtitle"></div>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link">主页</a>
        </li>
      
        <li class="menu-item">
          <a href="/archives" class="menu-item-link">归档</a>
        </li>
      
        <li class="menu-item">
          <a href="/about" class="menu-item-link">关于</a>
        </li>
      
    </ul>
  </nav>
</header>
<article class="post">
  <div class="post-title">
    <h1 class="article-title">左神算法笔记_0.3</h1>
  </div>
   <div class="post-meta">
    <span class="post-time">2022-07-19</span>
  </div>
  <div class="post-content">
    <h2 id="1、二分法"><a href="#1、二分法" class="headerlink" title="1、二分法"></a>1、二分法</h2><h3 id="1-1-二分查找"><a href="#1-1-二分查找" class="headerlink" title="1.1 二分查找"></a>1.1 二分查找</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">null</span> || arr.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">R</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (L &lt;= R) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (L + R) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] == num)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; num)</span><br><span class="line">            L = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            R = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-有序数组找到大于等于-num-最左的位置"><a href="#1-2-有序数组找到大于等于-num-最左的位置" class="headerlink" title="1.2 有序数组找到大于等于 num 最左的位置"></a>1.2 有序数组找到大于等于 num 最左的位置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">mostLeftNoLessNumIndex</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">null</span> || arr.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> <span class="number">0</span>, R = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (L &lt;= R) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (L + R) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt;= num) &#123;</span><br><span class="line">            ans = mid;</span><br><span class="line">            R = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            L = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-有序数组找到小于等于-num-最右的位置"><a href="#1-3-有序数组找到小于等于-num-最右的位置" class="headerlink" title="1.3 有序数组找到小于等于 num 最右的位置"></a>1.3 有序数组找到小于等于 num 最右的位置</h3><p>同上</p>
<h3 id="1-4-局部最小值问题"><a href="#1-4-局部最小值问题" class="headerlink" title="1.4 局部最小值问题"></a>1.4 局部最小值问题</h3><p>题目：有一个无序的数组，任意相邻的两个元素都不相等，编写函数，该函数返回数组中任意一个局部最小值的位置</p>
<p>局部最小值（【i】表示下标为 i 处数组的值）的定义如下：</p>
<ul>
<li>【0】 小于 【1】：0 是局部最小值</li>
<li>【n-1】 小于 【n-2】：n-1 位置的数字局部最小</li>
<li>对于其他位置 i，【i】 小于 【i-1】，并且 【i】小于【i+1】：i 位置的数字局部最小</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">oneMinIndex</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">null</span> || arr.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> arr.length;</span><br><span class="line">    <span class="keyword">if</span> (N == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (arr[<span class="number">0</span>] &lt; arr[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (arr[N-<span class="number">1</span>] &lt; arr[N-<span class="number">2</span>])</span><br><span class="line">        <span class="keyword">return</span> N-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">R</span> <span class="operator">=</span> N-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (L &lt; R-<span class="number">1</span>) &#123; <span class="comment">// 保证 L 到 R 之间大于三个数字</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> ( L + R ) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; arr[mid - <span class="number">1</span>] &amp;&amp; arr[mid] &lt; arr[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt; arr[mid - <span class="number">1</span>]) &#123;</span><br><span class="line">            R = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt; arr[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">            L = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr[L] &lt; arr[R] ? L : R;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> minIndex)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.length == <span class="number">0</span>)</span><br><span class="line">        <span class="type">return</span> <span class="variable">minIndex</span> <span class="operator">=</span>= -<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> minIndex - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> minIndex + <span class="number">1</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">leftBigger</span> <span class="operator">=</span> left &lt; <span class="number">0</span> || arr[left] &gt; arr[minIndex];</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">rightBigger</span> <span class="operator">=</span> right &gt; arr.length - <span class="number">1</span> || arr[right] &gt; arr[minIndex];</span><br><span class="line">    <span class="keyword">return</span> leftBigger &amp;&amp; rightBigger;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printArray</span><span class="params">(<span class="type">int</span>[] arr)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        System.out.print(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxValue</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">testNum</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; testNum; i++) &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = randomArray(maxLen, maxValue);</span><br><span class="line">        <span class="type">int</span> <span class="variable">minIndex</span> <span class="operator">=</span> oneMinIndex(arr);</span><br><span class="line">        <span class="keyword">if</span> ( !check(arr, minIndex) ) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;minIndex: &quot;</span> + minIndex);</span><br><span class="line">            printArray(arr);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;end&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2、时间复杂度"><a href="#2、时间复杂度" class="headerlink" title="2、时间复杂度"></a>2、时间复杂度</h2><p>常数操作：计算机里面 int 类型的变量底层都是 32 位的二进制数字，所以两个整型变量之间进行加减乘除的时候，花的时间和两个整型数字的大小没有关系，这叫是常数操作（类似的还有数组根据下标取值）。</p>
<p>时间复杂度：以冒泡排序为例，假设交换两个数字这个操作称为 a 操作，那 n 个数字进行冒泡排序需要的操作次数是一个等差数列，结果为 a1*n + (n * (n-1))  &#x2F; 2  * d，最终结果为 n^2 &#x2F; 2 + n &#x2F; 2，所以这个冒泡的时间复杂度就是 O(n ^ 2)，所以时间复杂度就是一个操作的最高阶</p>
<p>对于二分操作（有序数组中找一个数，也就是一个长为 N 的数组每次切掉一半，可以切多少次），时间复杂度为 O( log N)，对数时间复杂度一般会把下标去掉，常见的时间复杂度有：O()1、O(N)、O(N log N)、O(N^2)、O(N^3)、O(2^N)、O(N!)</p>
<h2 id="3、动态数组"><a href="#3、动态数组" class="headerlink" title="3、动态数组"></a>3、动态数组</h2><h3 id="3-1-动态数组是什么？"><a href="#3-1-动态数组是什么？" class="headerlink" title="3.1 动态数组是什么？"></a>3.1 动态数组是什么？</h3><ul>
<li><p>固定长度数组：像 C 语言中定义一个数组，其长度不能改变  </p>
</li>
<li><p>动态数组：Java 中有一个 arraylist 一开始也是固定长度的数组，但是当数组长度满时，会动态申请更大的内存空间</p>
</li>
</ul>
<h3 id="3-2-动态数组的使用和扩容"><a href="#3-2-动态数组的使用和扩容" class="headerlink" title="3.2 动态数组的使用和扩容"></a>3.2 动态数组的使用和扩容</h3><p>假设一开始长度为 4，假设有新的元素来了以后：它满容装不下了，arraylist 会将它销毁并创建一个新的长度的 8 的数组，如果还是放不下会再申请一个长度为 16 的数组，以此类推</p>
<p>这时既有一个问题：arraylist 根据下标取值的时间复杂度为 O(1），但扩容操作可能会增加这个时间复杂度，这里会涉及到一个时间代价，所以动态数组要考虑时间总代价</p>
<h3 id="3-3-动态数组的扩容和时间复杂度分析"><a href="#3-3-动态数组的扩容和时间复杂度分析" class="headerlink" title="3.3 动态数组的扩容和时间复杂度分析"></a>3.3 动态数组的扩容和时间复杂度分析</h3><p>以往一个 arraylist 里加入 100 个数字为例：</p>
<ol>
<li>先加入 a 一个元素，不需要扩容</li>
<li>再加入 b 元素时，需要扩容（扩容代价为 申请一个长度为 2 的数组 + 将老数组里的 1 个元素加入新数组）</li>
<li>再加入 c 元素时，需要扩容（扩容代价为 申请一个长度为 4 的数组 + 将老数组里的 2 个元素加入新数组）</li>
<li>再加入 d, e 元素时，需要扩容（扩容代价为 申请一个长度为 8 的数组 + 将老数组里的 4 个元素加入新数组）</li>
<li>……</li>
</ol>
<p>所以，扩容总代价为  1 + 2  + 4 +  -&gt; N（大于 N 的一个数），动态数组扩容的总代价为 O(N)</p>
<p>所以，从时间复杂度来说，Java 中的 arraylist 和固定长度的数组的性能差不多</p>
<h2 id="4、哈希表和有序表"><a href="#4、哈希表和有序表" class="headerlink" title="4、哈希表和有序表"></a>4、哈希表和有序表</h2><h3 id="4-1-哈希表-O-1"><a href="#4-1-哈希表-O-1" class="headerlink" title="4.1 哈希表 O(1)"></a>4.1 哈希表 O(1)</h3><ul>
<li><p>优点：Java 中的哈希表（hashmap）无论里面存了多少元素，它的增删改查都是常数操作（但是一个常数量比较大的操作）</p>
</li>
<li><p>传递方式：Java 中 String、Integer、Float、Double 在哈希表中同意按值进行传递，但自己定义的类会按地址传入</p>
</li>
<li><p>占用空间：</p>
<ul>
<li>将 金庸 作为 key 值，倚天屠龙记的全部文字作为 value 加入 map 中，占的空间为金庸和倚天屠龙记所有文字所占的字节数为这条数据所占的字节量，</li>
<li>还是上面的例子，如果字节定义一个类，类里面有倚天屠龙记全部的文字，那这条记录所占的空间就是这个对象的地址</li>
</ul>
</li>
</ul>
<h3 id="4-2-有序表-O-logN"><a href="#4-2-有序表-O-logN" class="headerlink" title="4.2 有序表 O(logN)"></a>4.2 有序表 O(logN)</h3><p>TreeMap 内部会按照 key 排好序</p>
<ul>
<li><p>使用 firstKey()、lastKey() 取出最小和最大的 key</p>
</li>
<li><p>使用 floorKey(int)、ceilingKey(int) 取出距离传入参数最近的 key，</p>
</li>
<li><p>缺点是不能用自定义的类型</p>
</li>
</ul>

  </div>
  <div class="post-footer">
    

    <a href="#top" class="top">返回顶部</a>
  </div>
</article>
<footer>
  &copy; 2022
  <span class="author">
    WangJie
  </span>
</footer>
    </div>
  </body>
</html>